\documentclass[../thesis.tex]{subfiles}

\begin{document}

Như đã đề cập trong phần giới thiệu, Google Translate hỗ trợ trên 100 ngôn ngữ khác nhau. Để liệt kê các ngôn ngữ được hỗ trợ, ta sử dụng HTTP request gọi đến dịch vụ Supported Languages.

\section{HTTP request}

Lệnh GET được định nghĩa như sau:

\begin{lstlisting}[style=link]
GET https://translation.googleapis.com/language/translate/v2/languages?key=YOUR_API_KEY
\end{lstlisting}

Các tham số:

\begin{center}
\begin{tabularx}{\textwidth}{|p{0.15\textwidth}|X|}
\hline
\lstinline{target} & \textbf{string}

Ngôn ngữ của kết quả mà ta muốn nhận được (Ví dụ: en). Nếu \lstinline{target} được xác định thì tên của các ngôn ngữ sẽ được trả về trong trường \lstinline{name}. Ngược lại, ta chỉ nhận được mã ISO-639-1 của chúng.\\
\hline
\lstinline{model} & \textbf{string}

Mô hình dịch. Nếu có giá trị là \lstinline{base} thì kết quả trả về sẽ là các ngôn ngữ được hỗ trợ bởi mô hình Phrase-Based Machine Translation (PBMT), hoặc \lstinline{nmt} thì kết quả trả về ngôn ngữ được hỗ trợ bởi mô hình Neural Machine Translation (NMT). Nếu bỏ qua tham số này, tất cả các ngôn ngữ được hỗ trợ sẽ được trả về trong kết quả.

Mô hình NMT chỉ hỗ trợ khi ngôn ngữ nguồn hoặc đích là tiếng Anh (en).\\
\hline
\lstinline{key} & \textbf{string}

API key. Nếu sử dụng OAuth 2.0 thì không cần tham số này.\\
\hline
\end{tabularx}
\end{center}

Nếu thành công, HTTP trả về mã trạng thái là \lstinline{200 OK} thì kết quả nhận được là một chuỗi JSON có dạng như sau:

\begin{lstlisting}[style=link]
{
  "data": {
    "languages": [
      {
        "language": "en"
      },
      {
        "language": "fr"
      },
      ...
      {
        "language": "zh-CN"
      }
    ]
  }
}
\end{lstlisting}

\section{Dịch vụ Supported Languages trong Java}
Để sử dụng dịch vụ SupportedLanguages trong Java, ta thực hiện theo quy trình sau:
\begin{enumerate}
  \item Sử dụng phương thức \lstinline{build()} của đối tượng \lstinline{Builder} vừa tạo để khởi tạo một dịch vụ \lstinline{Translate}.
  \item Tạo một yêu cầu (đối tượng thuộc lớp \lstinline{Translations.List}) và sử dụng các setter để định các tham số cho lệnh POST.
  \item Thực thi yêu cầu bằng phương thức \lstinline{execute()}. Kết quả trả về ở dạng JSON, thuộc lớp \lstinline{LanguagesListResponse}.
  \item Dùng phương thức \lstinline{getLanguages()} nhận về một \lstinline{List} các đối tượng thuộc lớp \lstinline{LanguagesResource}.
  \item Dùng các phương thức \lstinline{getLanguage()} để nhận về mã ISO-639-1 và phương thức \lstinline{getName()} để nhận tên của các ngôn ngữ.
\end{enumerate}

\section*{Tham khảo}

\begin{enumerate}
  \item Documentation - Discovering Supported Languages: https://goo.gl/tQgYgy
  \item Google Cloud Translation API Java Docs: https://goo.gl/bnU3ES
\end{enumerate}

\end{document}